<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PArray &#8212; BoxLib Reference</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '16.09',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="BoxLib Reference" href="index.html" />
    <link rel="up" title="Classes" href="classes.html" />
    <link rel="next" title="Macros" href="macros.html" />
    <link rel="prev" title="IntVect" href="intvect.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="macros.html" title="Macros"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="intvect.html" title="IntVect"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BoxLib Reference</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="classes.html" accesskey="U">Classes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parray">
<span id="id1"></span><h1>PArray<a class="headerlink" href="#parray" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="_CPPv26PArray">
<span id="PArray"></span><em class="property">class </em><code class="descclassname"></code><code class="descname">PArray</code><a class="headerlink" href="#_CPPv26PArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Located in <a class="reference external" href="https://github.com/BoxLib-Codes/BoxLib/blob/master/Src/C_BaseLib/PArray.H">Src/C_BaseLib/PArray.H</a>.</p>
<p>The <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> class is similar to the <a class="reference internal" href="array.html#_CPPv2I0E5Array" title="Array"><code class="xref cpp cpp-class docutils literal"><span class="pre">Array</span></code></a> class
except that it implements an array of pointers to objects of type
<code class="docutils literal"><span class="pre">T</span></code> rather than an array of the objects themselves.  As with
<code class="docutils literal"><span class="pre">Array&lt;T&gt;</span> <span class="pre">objects</span></code>, <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> objects know about their length,
can be dynamically resized and have built-in automatic bounds
checking.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When a <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> object is destructed, whether the objects to
which it points will be deleted depends on its memory management
policy.  The default memory management policy is not to delete.
That is, by default, the pointers are <em>non-owning</em>.</p>
</div>
<p><strong>Constructors and copy assignment operator</strong></p>
<blockquote>
<div><dl class="function">
<dt id="_CPPv2N6PArray6PArrayE12PArrayPolicy">
<span id="PArray::PArray__PArrayPolicy"></span><em class="property">explicit</em> <code class="descclassname"></code><code class="descname">PArray</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv212PArrayPolicy" title="PArrayPolicy">PArrayPolicy</a> <em>_managed</em> = PArrayNoManage<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6PArrayE12PArrayPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a <code class="docutils literal"><span class="pre">PArray</span></code> with no elements.  The default memory
management policy is not to delete the underlying objects upon
destruction.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray6PArrayEi12PArrayPolicy">
<span id="PArray::PArray__i.PArrayPolicy"></span><em class="property">explicit</em> <code class="descclassname"></code><code class="descname">PArray</code><span class="sig-paren">(</span>int <em>len</em>, <a class="reference internal" href="#_CPPv212PArrayPolicy" title="PArrayPolicy">PArrayPolicy</a> <em>_managed</em> = PArrayNoManage<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6PArrayEi12PArrayPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a <code class="docutils literal"><span class="pre">PArray</span></code> of length len of null pointers.  The
default memory management policy is not to delete the
underlying objects upon destruction.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray6PArrayERK6PArrayI1TE">
<span id="PArray::PArray__PArray:T:CR"></span><code class="descclassname"></code><code class="descname">PArray</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv2N6PArray6PArrayE12PArrayPolicy" title="PArray::PArray">PArray</a>&lt;T&gt; &amp;<em>rhs</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6PArrayERK6PArrayI1TE" title="Permalink to this definition">¶</a></dt>
<dd><p>Because of the memory management issue, this copy constructor
should <strong>NOT</strong> be used explicitly in any codes.  But, having the
copy constructor allows us to construct <code class="docutils literal"><span class="pre">Array&lt;</span> <span class="pre">PArray&lt;T&gt;</span> <span class="pre">&gt;</span></code>
objects.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArrayaSERK6PArrayI1TE">
<span id="PArray::assign-operator__PArray:T:CR"></span><a class="reference internal" href="#_CPPv26PArray" title="PArray">PArray</a>&lt;T&gt; &amp;<code class="descclassname"></code><code class="descname">operator=</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv26PArray" title="PArray">PArray</a>&lt;T&gt; &amp;<em>rhs</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArrayaSERK6PArrayI1TE" title="Permalink to this definition">¶</a></dt>
<dd><p>Because of the memory management issue, this copy assignment
operator should <strong>NOT</strong> be used explicitly in any codes.  But,
having the copy constructor allows us to write codes like
below:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">Array</span><span class="o">&lt;</span> <span class="n">PArray</span> <span class="o">&lt;</span><span class="n">MultiFab</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">mfs</span><span class="p">;</span>
<span class="n">f</span><span class="p">(</span><span class="n">mfs</span><span class="p">);</span>  <span class="c1">// call function f</span>

<span class="c1">// definition of function f</span>
<span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="n">Array</span><span class="o">&lt;</span> <span class="n">PArray</span> <span class="o">&lt;</span><span class="n">MultiFab</span><span class="o">&gt;</span> <span class="o">&gt;&amp;</span> <span class="n">mfs</span><span class="p">;</span>
<span class="p">{</span>
  <span class="n">mfs</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// resize requires copy assignment operator</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div></blockquote>
<p><strong>Destructor</strong></p>
<blockquote>
<div><dl class="function">
<dt id="_CPPv2N6PArrayD0Ev">
<span id="PArray::~PArray"></span><code class="descclassname"></code><code class="descname">~PArray</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArrayD0Ev" title="Permalink to this definition">¶</a></dt>
<dd><p>If the memory management policy is <code class="docutils literal"><span class="pre">PArrayManage</span></code>, this destructor
delete all objects pointed by the pointers in this array.</p>
</dd></dl>

</div></blockquote>
<p><strong>Member functions</strong></p>
<blockquote>
<div><dl class="function">
<dt id="_CPPv2NK6PArray7definedEi">
<span id="PArray::defined__iC"></span>bool <code class="descclassname"></code><code class="descname">defined</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv2NK6PArray7definedEi" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th element is not the null pointer.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArrayixEi">
<span id="PArray::subscript-operator__i"></span>T &amp;<code class="descclassname"></code><code class="descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArrayixEi" title="Permalink to this definition">¶</a></dt>
<dt id="_CPPv2NK6PArrayixEi">
<span id="PArray::subscript-operator__iC"></span><em class="property">const</em> T &amp;<code class="descclassname"></code><code class="descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv2NK6PArrayixEi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reference to the object pointed to by the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th
element.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray3setEiP1T">
<span id="PArray::set__i.TP"></span>void <code class="descclassname"></code><code class="descname">set</code><span class="sig-paren">(</span>int <em>i</em>, T *<em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray3setEiP1T" title="Permalink to this definition">¶</a></dt>
<dt id="_CPPv2N6PArray3setEiPK1T">
<span id="PArray::set__i.TCP"></span>void <code class="descclassname"></code><code class="descname">set</code><span class="sig-paren">(</span>int <em>i</em>, <em class="property">const</em> T *<em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray3setEiPK1T" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th element of this <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> to the
pointer value elem.  If the memory management policy is
<code class="docutils literal"><span class="pre">PArrayManage</span></code>, it is an error if the i&#8217;th element
previously had a non-null value.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2NK6PArray4sizeEv">
<span id="PArray::sizeC"></span>int <code class="descclassname"></code><code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv2NK6PArray4sizeEv" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of elements.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray5clearEv">
<span id="PArray::clear"></span>void <code class="descclassname"></code><code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray5clearEv" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets each pointer in this <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> to null.
If the memory management policy is <code class="docutils literal"><span class="pre">PArrayManage</span></code>, this
function will also delete all objects pointed by the pointers
in this array.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray5clearEi">
<span id="PArray::clear__i"></span>void <code class="descclassname"></code><code class="descname">clear</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray5clearEi" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th pointer in this <code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code> to
null.  If the memory management policy is <code class="docutils literal"><span class="pre">PArrayManage</span></code>, this
function will also delete the object pointed by the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th
pointer.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray6resizeEi">
<span id="PArray::resize__i"></span>void <code class="descclassname"></code><code class="descname">resize</code><span class="sig-paren">(</span>int <em>newsize</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6resizeEi" title="Permalink to this definition">¶</a></dt>
<dd><p>This function changes the size of the array to <code class="docutils literal"><span class="pre">newsize</span></code> while
preserving the value of as many array elements as possible.  If
<code class="docutils literal"><span class="pre">newsize</span></code> is greater than the current length, the array is
grown and the new elements are null pointers.  If newsize is
less than the current length the array is cropped with the
remaining elements retaining their original pointer values. If
the memory management policy was set to <code class="docutils literal"><span class="pre">PArrayManage</span></code>, any
cropped pointers are deleted.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray6resizeEi12PArrayPolicy">
<span id="PArray::resize__i.PArrayPolicy"></span>void <code class="descclassname"></code><code class="descname">resize</code><span class="sig-paren">(</span>int <em>newsize</em>, <a class="reference internal" href="#_CPPv212PArrayPolicy" title="PArrayPolicy">PArrayPolicy</a> <em>newmanagedpolicy</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6resizeEi12PArrayPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does a resize and changes the memory management
policy.  (Especially for arrays of PArray where the user wants
the default policy to be managed&#8211;the default constructor makes
the default unmanaged).  If the new managed policy is different
from the old one, none of the elements of the original are
retained.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray6removeEi">
<span id="PArray::remove__i"></span>T *<code class="descclassname"></code><code class="descname">remove</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray6removeEi" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the <code class="docutils literal"><span class="pre">i</span></code>&#8216;th element from the <code class="docutils literal"><span class="pre">PArray</span></code> and returns the
pointer to the calling function.  Nulls out the pointer in the
<code class="docutils literal"><span class="pre">PArray&lt;T&gt;</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv2N6PArray9push_backEP1T">
<span id="PArray::push_back__TP"></span>T *<code class="descclassname"></code><code class="descname">push_back</code><span class="sig-paren">(</span>T *<em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv2N6PArray9push_backEP1T" title="Permalink to this definition">¶</a></dt>
<dd><p>Pushes a pointer to the back of the array.  This also returns
the pushed pointer.</p>
</dd></dl>

</div></blockquote>
<p><em>Example</em>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">PArray</span><span class="o">&lt;</span><span class="n">MultiFab</span><span class="o">&gt;</span> <span class="n">mf_parray</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">PArrayManage</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mf_parray</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="k">new</span> <span class="n">MultiFab</span><span class="p">());</span>
<span class="p">}</span>
<span class="k">const</span> <span class="n">MultiFab</span><span class="o">&amp;</span> <span class="n">mf</span> <span class="o">=</span> <span class="n">mf_parray</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Size of this MultiFab &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">mf</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="parraypolicy">
<h2>PArrayPolicy<a class="headerlink" href="#parraypolicy" title="Permalink to this headline">¶</a></h2>
<dl class="enum">
<dt id="_CPPv212PArrayPolicy">
<em class="property">enum </em><code class="descclassname"></code><code class="descname">PArrayPolicy</code><a class="headerlink" href="#_CPPv212PArrayPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Located in <a class="reference external" href="https://github.com/BoxLib-Codes/BoxLib/blob/master/Src/C_BaseLib/PArray.H">Src/C_BaseLib/PArray.H</a>.</p>
<p>An <code class="docutils literal"><span class="pre">enum</span></code> that controls whether or not <code class="docutils literal"><span class="pre">class</span> <span class="pre">PArray&lt;T&gt;</span></code> manages
the pointed objects. Valid values are</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">PArrayNoManage</span></code></li>
<li><code class="docutils literal"><span class="pre">PArrayManage</span></code>.</li>
</ul>
</div></blockquote>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="array.html#_CPPv2I0E5Array" title="Array"><code class="xref cpp cpp-class docutils literal"><span class="pre">Array</span></code></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PArray</a><ul>
<li><a class="reference internal" href="#parraypolicy">PArrayPolicy</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="intvect.html"
                        title="previous chapter">IntVect</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="macros.html"
                        title="next chapter">Macros</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/parray.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="macros.html" title="Macros"
             >next</a> |</li>
        <li class="right" >
          <a href="intvect.html" title="IntVect"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BoxLib Reference</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="classes.html" >Classes</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, The Regents of the University of California, through Lawrence Berkeley National Laboratory.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5a1.
    </div>
  </body>
</html>